var win=Ti.UI.currentWindow;Ti.include(Ti.Filesystem.resourcesDirectory+"/libs/webService.js"),Ti.include(Ti.Filesystem.resourcesDirectory+"/libs/commonFunctions.js"),theme("red"),win.backgroundColor=Ti.App.backgroundColor;var header=Ti.UI.createView({height:Ti.UI.SIZE,layout:"vertical",backgroundColor:Ti.App.backgroundColor,top:"3%"}),headerView=Ti.UI.createView({backgroundColor:Ti.App.foregroundColor,height:"51.5%",left:"3%",right:"3%",borderRadius:10}),bottomView=Ti.UI.createView({backgroundColor:Ti.App.foregroundColor,top:"5%",left:"3%",right:"3%",bottom:"5%",borderRadius:10}),textField=Ti.UI.createTextField({hintText:"Enter phone number",color:"black",top:"13%",width:"80%",height:"30%",font:{fontSize:24,fontWeight:"bold"},backgroundColor:"white",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER}),contactsButton=Ti.UI.createButton({title:"Contacts",top:"65%",left:"10%",width:"35%",bottom:"10%"}),callButton=Ti.UI.createButton({title:"Call Me",top:"65%",right:"10%",width:"35%",bottom:"10%"}),table=Ti.UI.createTableView({data:getContacts(),backgroundColor:"transparent",separatorColor:Ti.App.backgroundColor});textField.addEventListener("click",function(){textField.blur(),textField.keyboardType=Ti.UI.KEYBOARD_PHONE_PAD,textField.focus()}),contactsButton.addEventListener("click",function(){textField.blur()}),table.addEventListener("click",function(e){e.index,e.section,e.row,e.rowData;var t=e.rowData.msisdn;getContacts(),Ti.API.info(t),textField.setValue(t)}),callButton.addEventListener("click",function(){""==textField.getValue()?alert("Select a phone number first"):alert("Message sent!")}),headerView.add(textField),win.add(header),header.add(headerView),header.add(bottomView),headerView.add(callButton),headerView.add(contactsButton),bottomView.add(table);