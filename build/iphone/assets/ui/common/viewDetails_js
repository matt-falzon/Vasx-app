function getAccountData(e,t,a){function r(e,t,a,r,i,n){var o=Ti.Network.createHTTPClient();o.onerror=function(){Ti.API.error(this.status+" - "+this.statusText)};var s=[{SessionID:e,LanguageCode:t,Msisdn:a,VirtualNetwork:r}],l=generateXML("http://service.adminportal.vasx.com/","getServices",s);o.open("POST","http://192.168.20.3:12080/vx_adminportal/AdminPortal"),o.setRequestHeader("Content-Type","text/xml"),o.setRequestHeader("Content-Length",l.length),o.setRequestHeader("SOAPAction",'"getServices"'),o.send(l),o.onload=function(){var e=o.responseXML.documentElement.getElementsByTagName("getServicesResponse");if(e&&e.length>0){Ti.API.info(e.item(0).text);var t=Ti.XML.parseString(e.item(0).text),a=t.getElementsByTagName("ServiceCode").item(0).text,r=t.getElementsByTagName("ServiceID").item(0).text,s=t.getElementsByTagName("ServiceName").item(0).text,l=t.getElementsByTagName("ActiveService").item(0).text,c=t.getElementsByTagName("ActiveFrom").item(0).text,d=t.getElementsByTagName("Administerable").item(0).text,u=t.getElementsByTagName("SubscriptionCharge").item(0).text;i.push(""),n.push(""),i.push(""),n.push("Services"),i.push(s),n.push("ServiceName: "),i.push(a),n.push("Code: "),i.push(r),n.push("ID: "),i.push(l),n.push("Active: "),i.push(c),n.push("Active from: "),i.push(d),n.push("Administerable: "),i.push(u),n.push("Subscription charge: ");for(var h=[],p=0;i.length>p;p++){var g=Ti.UI.createTableViewRow({selectedBackgroundColor:"transparent",height:40}),m=Ti.UI.createLabel({text:n[p]+i[p],color:"black",font:{fontSize:"16pt",fontWeight:"bold"},left:"2%",right:"2%"});g.add(m),h.push(g)}var f=Ti.UI.createTableView({backgroundColor:"transparent",data:h,separatorColor:Ti.App.backgroundColor});win.add(mainView),mainView.add(f),activityIndicator.setVisible(!1)}}}var i=Ti.Network.createHTTPClient();i.onerror=function(){Ti.API.error(this.status+" - "+this.statusText)};var n=[{SessionID:e,LanguageCode:t,VirtualNetwork:a}],o=generateXML("http://service.adminportal.vasx.com/","getAccountData",n);i.open("POST","http://192.168.20.3:12080/vx_adminportal/AdminPortal"),i.setRequestHeader("Content-Type","text/xml"),i.setRequestHeader("Content-Length",o.length),i.setRequestHeader("SOAPAction",'"getAccountData"'),i.send(o),i.onload=function(){var n=i.responseXML.documentElement.getElementsByTagName("getAccountDataResponse");if(Ti.API.info(n.item(0).text),n&&n.length>0){var o=[],s=[],l=Ti.XML.parseString(n.item(0).text);l.getElementsByTagName("Message");var c=l.getElementsByTagName("AccountNumber"),d=l.getElementsByTagName("AccountName"),u=l.getElementsByTagName("EmailAddress"),h=l.getElementsByTagName("Line1"),p=l.getElementsByTagName("Line2"),g=l.getElementsByTagName("Line3"),m=l.getElementsByTagName("Line4"),f=l.getElementsByTagName("Line5");o.push(c.item(0).text),s.push("Account Number: "),o.push(d.item(0).text),s.push("Account Name: "),""!=u.item(0).text&&(o.push(u.item(0).text),s.push("Email Address: ")),o.push(""),s.push(""),o.push(""),s.push("Address"),o.push(h.item(0).text),s.push(""),""!=p.item(0).text&&(o.push(p.item(0).text),s.push("")),""!=g.item(0).text&&(o.push(g.item(0).text),s.push("")),""!=m.item(0).text&&(o.push(m.item(0).text),s.push("")),""!=f.item(0).text&&(o.push(f.item(0).text),s.push("")),r(e,t,Ti.App.msisdn,a,o,s)}}}var win=Ti.UI.currentWindow;myId=win.myId,Ti.include(Ti.Filesystem.resourcesDirectory+"/libs/webService.js"),Ti.include(Ti.Filesystem.resourcesDirectory+"/libs/commonFunctions.js"),theme("orange"),win.backgroundColor=Ti.App.backgroundColor;var mainView=Ti.UI.createView({backgroundColor:Ti.App.foregroundColor,left:"3%",right:"3%",top:"3%",bottom:"3%",borderRadius:10}),style;style="iPhone OS"===Ti.Platform.name?Ti.UI.iPhone.ActivityIndicatorStyle.DARK:Ti.UI.ActivityIndicatorStyle.DARK;var activityIndicator=Ti.UI.createActivityIndicator({color:Ti.App.foregroundColor,font:{fontFamily:"Helvetica Neue",fontSize:26,fontWeight:"bold"},message:"Loading...",style:style,height:Ti.UI.SIZE,width:Ti.UI.SIZE,visible:!1});win.addEventListener("focus",function(){activityIndicator.setVisible(!0)}),getAccountData(myId,"en",1),win.add(activityIndicator);