function getAgingData(e,t,a){var r=Ti.Network.createHTTPClient();r.onerror=function(){Ti.API.error(this.status+" - "+this.statusText)};var i=[{SessionID:e,LanguageCode:t,VirtualNetwork:a}],n=generateXML("http://service.adminportal.vasx.com/","getAgingData",i);r.open("POST","http://192.168.20.3:12080/vx_adminportal/AdminPortal"),r.setRequestHeader("Content-Type","text/xml"),r.setRequestHeader("Content-Length",n.length),r.setRequestHeader("SOAPAction",'"getAgingData"'),r.send(n),r.onload=function(){var e=r.responseXML.documentElement.getElementsByTagName("getAgingDataResponse");if(Ti.API.info(e.item(0).text),e&&e.length>0){var t=[],a=[],i=Ti.XML.parseString(e.item(0).text);i.getElementsByTagName("Message");var n=i.getElementsByTagName("CurrentBalance"),o=i.getElementsByTagName("Outstanding30Days"),s=i.getElementsByTagName("Outstanding60Days"),l=i.getElementsByTagName("Outstanding90Days"),c=i.getElementsByTagName("Outstanding120Days"),h=i.getElementsByTagName("UnbilledUsage"),u=i.getElementsByTagName("UnbilledSubs");t.push(n.item(0).text),a.push("Current Balance: "),t.push(o.item(0).text),a.push("Outstanding 30 days: "),t.push(s.item(0).text),a.push("Outstanding 60 days: "),t.push(l.item(0).text),a.push("Outstanding 90 days: "),t.push(c.item(0).text),a.push("Outstanding 120 days: "),t.push(h.item(0).text),a.push("Unbilled Usage: "),t.push(u.item(0).text),a.push("Unbilled Subscribers: ");for(var d=[],p=0;t.length>p;p++){var g=Ti.UI.createTableViewRow({selectedBackgroundColor:"transparent",height:40}),f=Ti.UI.createLabel({text:a[p],color:"black",font:{fontSize:"16pt",fontWeight:"bold"},left:"2%",right:"2%"}),m=Ti.UI.createLabel({text:"$"+t[p],font:{fontSize:"19pt",fontWeight:"bold"},right:"2%",color:Ti.App.backgroundColor});g.add(f),g.add(m),d.push(g)}var v=Ti.UI.createTableView({backgroundColor:"transparent",data:d,separatorColor:Ti.App.backgroundColor});mainView.add(v),win.add(mainView),activityIndicator.setVisible(!1)}}}var win=Ti.UI.currentWindow;Ti.include(Ti.Filesystem.resourcesDirectory+"/libs/webService.js"),Ti.include(Ti.Filesystem.resourcesDirectory+"/libs/commonFunctions.js"),theme("green"),win.setBackgroundColor(Ti.App.backgroundColor);var mainView=Ti.UI.createView({backgroundColor:Ti.App.foregroundColor,top:"3%",bottom:"3%",right:"3%",left:"3%",borderRadius:10}),style;style="iPhone OS"===Ti.Platform.name?Ti.UI.iPhone.ActivityIndicatorStyle.DARK:Ti.UI.ActivityIndicatorStyle.DARK;var activityIndicator=Ti.UI.createActivityIndicator({color:Ti.App.foregroundColor,font:{fontFamily:"Helvetica Neue",fontSize:26,fontWeight:"bold"},message:"Loading...",style:style,height:Ti.UI.SIZE,width:Ti.UI.SIZE,visible:!1});activityIndicator.setVisible(!0),getAgingData(Ti.App.Session,Ti.App.Language,1),win.add(activityIndicator);