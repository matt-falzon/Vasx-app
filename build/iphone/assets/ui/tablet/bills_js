function open(){function e(){d.setText(lastPaymentText);var e=Ti.UI.createTableViewRow({selectedBackgroundColor:"transparent",title:amountText,height:40});u.setText("$67.65"),e.add(u),s.push(e);var e=Ti.UI.createTableViewRow({selectedBackgroundColor:"transparent",title:dateText,height:40,width:"70%"});h.setText("15/6/13"),e.add(h),s.push(e),p.setData(s),s=[]}function t(){m.setText(currentBalanceText);var e=Ti.UI.createTableViewRow({selectedBackgroundColor:"transparent",title:totalDueText,height:40});g.setText("..."),r(Ti.App.Session,"en",1),e.add(g),s.push(e);var e=Ti.UI.createTableViewRow({selectedBackgroundColor:"transparent",title:paymentDueDateText,height:40});f.setText("17/8/13"),e.add(f),s.push(e),T.setData(s),s=[]}function a(){"pt"==Ti.App.Language?(amountText="quantidade",dateText="data",lastPaymentText="último pagamento",currentBalanceText="saldo atual",totalDueText="total devido",paymentDueDateText="data de vencimento",viewAsPdfText="ver em pdf",viewAllDocumentsText="ver todos os documentos"):"fr"==Ti.App.Language?(amountText="chamadas: ",dateText="dados: ",lastPaymentText="tempo de sobra: ",currentBalanceText="solde courant",totalDueText="total dû",paymentDueDateText="paiement date d'échéance",viewAsPdfText="Afficher au format PDF",viewAllDocumentsText="Voir tous les documents"):(amountText="Amount",dateText="Date",lastPaymentText="Last Payment",currentBalanceText="Current Balance",totalDueText="Total Due",paymentDueDateText="Payment Due Date",viewAsPdfText="View as PDF",viewAllDocumentsText="View All Documents")}function r(e,t,a){var r=Ti.Network.createHTTPClient();r.onerror=function(){Ti.API.error(this.status+" - "+this.statusText)};var i=[{SessionID:e,LanguageCode:t,VirtualNetwork:a}],o=generateXML("http://service.adminportal.vasx.com/","getAgingData",i);r.open("POST","http://192.168.20.3:12080/vx_adminportal/AdminPortal"),r.setRequestHeader("Content-Type","text/xml"),r.setRequestHeader("Content-Length",o.length),r.setRequestHeader("SOAPAction",'"getAgingData"'),r.send(o),r.onload=function(){var e=r.responseXML.documentElement.getElementsByTagName("getAgingDataResponse");if(Ti.API.info(e.item(0).text),e&&e.length>0){var t=Ti.XML.parseString(e.item(0).text);t.getElementsByTagName("Message");var a=t.getElementsByTagName("CurrentBalance");g.setText("$"+a.item(0).text)}}}function i(){n.open()}function o(){n.close()}Ti.include(Ti.Filesystem.resourcesDirectory+"/libs/webService.js"),Ti.include(Ti.Filesystem.resourcesDirectory+"/libs/commonFunctions.js"),Ti.include(Ti.Filesystem.resourcesDirectory+"/ui/tablet/agingData.js"),Ti.include(Ti.Filesystem.resourcesDirectory+"/ui/tablet/billLimit.js");var n=Ti.UI.createWindow({backgroundColor:"pink",left:"15%"});closeMenu(n),swipeWindow(n),a(),theme("blue");var s=[],l=Ti.UI.createView({backgroundColor:Ti.App.backgroundColor,top:"7%"}),c=Ti.UI.createButton({title:"Log out",style:Ti.UI.iPhone.SystemButtonStyle.BORDERED}),d=Ti.UI.createLabel({text:lastPaymentText,top:"15%"}),u=Ti.UI.createLabel({font:{fontSize:22,fontWeight:"bold"},right:15,color:Ti.App.backgroundColor}),h=Ti.UI.createLabel({font:{fontSize:24,fontWeight:"bold"},right:15,color:Ti.App.backgroundColor}),p=Ti.UI.createTableView({data:s,backgroundColor:"transparent",scrollable:!1,allowsSelection:!1,separatorColor:Ti.App.foregroundColor}),g=Ti.UI.createLabel({font:{fontSize:24,fontWeight:"bold"},right:15,color:Ti.App.backgroundColor}),m=Ti.UI.createLabel({text:currentBalanceText,top:"15%"}),f=Ti.UI.createLabel({text:"...",font:{fontSize:24,fontWeight:"bold"},right:15,color:Ti.App.backgroundColor}),T=Ti.UI.createTableView({data:s,backgroundColor:"transparent",scrollable:!1,allowsSelection:!1,separatorColor:Ti.App.foregroundColor});n.addEventListener("focus",function(){a(),t(),e()}),c.addEventListener("click",function(){endSession()});var v=Ti.UI.createView({backgroundColor:Ti.App.foregroundColor,height:"10%",left:"1.5%",right:"50.75%",borderRadius:10,top:"5.8%"}),b=Ti.UI.createView({backgroundColor:Ti.App.foregroundColor,height:"5%",left:"1.5%",right:"50.75%",top:"1.5%"}),y=Ti.UI.createView({backgroundColor:Ti.App.foregroundColor,height:"5%",right:"1.5%",left:"50.75%",top:"1.5%"}),w=Ti.UI.createView({backgroundColor:Ti.App.foregroundColor,height:"10%",right:"1.5%",left:"50.75%",borderRadius:10,top:"5.8%"}),C=Ti.UI.createView({backgroundColor:Ti.App.backgroundColor,height:"4%",width:"100%",bottom:"20%"}),x=Ti.UI.createView({backgroundColor:Ti.App.backgroundColor,height:"4%",width:"100%",bottom:"20%"}),_=Ti.UI.createLabel({text:"Aging Data",top:"15%"}),R=Ti.UI.createView({backgroundColor:Ti.App.foregroundColor,height:"5%",right:"50.75%",left:"1.5%",top:"17%"}),I=Ti.UI.createView({backgroundColor:Ti.App.backgroundColor,height:"4%",width:"100%",bottom:"20%"}),A=Ti.UI.createView({backgroundColor:Ti.App.foregroundColor,height:"34%",left:"1.5%",right:"50.75%",borderRadius:10,top:"21.2%"}),E=Ti.UI.createLabel({text:"Bill Limit",top:"15%"}),k=Ti.UI.createView({backgroundColor:Ti.App.foregroundColor,height:"5%",left:"50.75%",right:"1.5%",top:"17%"}),S=Ti.UI.createView({backgroundColor:Ti.App.backgroundColor,height:"4%",width:"100%",bottom:"20%"}),U=Ti.UI.createView({backgroundColor:Ti.App.foregroundColor,height:"30%",right:"1.5%",left:"50.75%",borderRadius:10,top:"21.2%"}),G=Ti.UI.createView({backgroundColor:Ti.App.foregroundColor,height:"35%",top:"56.5%",left:"1.5%",right:"1.5%",borderRadius:10}),L=Ti.UI.createWebView({url:Ti.Filesystem.resourcesDirectory+"/ui/tablet/billGraph.html"});return titleBar(n,"Bills",Ti.App.foregroundColor,Ti.App.BackgroundColor),l.add(w),l.add(y),l.add(b),l.add(v),l.add(R),l.add(A),l.add(U),l.add(k),l.add(G),G.add(L),k.add(S),k.add(E),R.add(I),R.add(_),b.add(C),b.add(d),y.add(x),y.add(m),w.add(T),v.add(p),n.setLeftNavButton(c),n.add(l),agingData(A),billLimit(U),n.openWin=i,n.close=o,n}exports.open=open;