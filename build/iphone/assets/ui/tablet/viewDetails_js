function open(){function e(e,t,a){function r(e,t,a,r,n,s){var l=Ti.Network.createHTTPClient();l.onerror=function(){Ti.API.error(this.status+" - "+this.statusText)};var c=[{SessionID:e,LanguageCode:t,Msisdn:a,VirtualNetwork:r}],u=generateXML("http://service.adminportal.vasx.com/","getServices",c);l.open("POST","http://192.168.20.3:12080/vx_adminportal/AdminPortal"),l.setRequestHeader("Content-Type","text/xml"),l.setRequestHeader("Content-Length",u.length),l.setRequestHeader("SOAPAction",'"getServices"'),l.send(u),l.onload=function(){var e=l.responseXML.documentElement.getElementsByTagName("getServicesResponse");if(e&&e.length>0){Ti.API.info(e.item(0).text);var t=Ti.XML.parseString(e.item(0).text),a=t.getElementsByTagName("ServiceCode").item(0).text,r=t.getElementsByTagName("ServiceID").item(0).text,c=t.getElementsByTagName("ServiceName").item(0).text,u=t.getElementsByTagName("ActiveService").item(0).text,h=t.getElementsByTagName("ActiveFrom").item(0).text,p=t.getElementsByTagName("Administerable").item(0).text,g=t.getElementsByTagName("SubscriptionCharge").item(0).text;n.push(""),s.push(""),n.push(""),s.push("Services"),n.push(c),s.push("ServiceName: "),n.push(a),s.push("Code: "),n.push(r),s.push("ID: "),n.push(u),s.push("Active: "),n.push(h),s.push("Active from: "),n.push(p),s.push("Administerable: "),n.push(g),s.push("Subscription charge: ");for(var m=[],f=0;n.length>f;f++){var T=Ti.UI.createTableViewRow({selectedBackgroundColor:"transparent",height:40}),v=Ti.UI.createLabel({text:s[f]+n[f],color:"black",font:{fontSize:"16pt",fontWeight:"bold"},left:"2%",right:"2%"});T.add(v),m.push(T)}var b=Ti.UI.createTableView({backgroundColor:"transparent",data:m,separatorColor:Ti.App.backgroundColor});i.add(o),o.add(b),d.setVisible(!1)}}}var n=Ti.Network.createHTTPClient();n.onerror=function(){Ti.API.error(this.status+" - "+this.statusText)};var s=[{SessionID:e,LanguageCode:t,VirtualNetwork:a}],l=generateXML("http://service.adminportal.vasx.com/","getAccountData",s);n.open("POST","http://192.168.20.3:12080/vx_adminportal/AdminPortal"),n.setRequestHeader("Content-Type","text/xml"),n.setRequestHeader("Content-Length",l.length),n.setRequestHeader("SOAPAction",'"getAccountData"'),n.send(l),n.onload=function(){var e=n.responseXML.documentElement.getElementsByTagName("getAccountDataResponse");if(Ti.API.info(e.item(0).text),e&&e.length>0){var i=[],o=[],s=Ti.XML.parseString(e.item(0).text);s.getElementsByTagName("Message");var l=s.getElementsByTagName("AccountNumber"),c=s.getElementsByTagName("AccountName"),d=s.getElementsByTagName("EmailAddress"),u=s.getElementsByTagName("Line1"),h=s.getElementsByTagName("Line2"),p=s.getElementsByTagName("Line3"),g=s.getElementsByTagName("Line4"),m=s.getElementsByTagName("Line5");i.push(l.item(0).text),o.push("Account Number: "),i.push(c.item(0).text),o.push("Account Name: "),""!=d.item(0).text&&(i.push(d.item(0).text),o.push("Email Address: ")),i.push(""),o.push(""),i.push(""),o.push("Address"),i.push(u.item(0).text),o.push(""),""!=h.item(0).text&&(i.push(h.item(0).text),o.push("")),""!=p.item(0).text&&(i.push(p.item(0).text),o.push("")),""!=g.item(0).text&&(i.push(g.item(0).text),o.push("")),""!=m.item(0).text&&(i.push(m.item(0).text),o.push("")),r(Ti.App.Session,t,Ti.App.msisdn,a,i,o)}}}function t(e,t,a,r){barView=Ti.UI.createView({top:0,height:"7%",backgroundColor:a});var t=Ti.UI.createLabel({text:t,font:{fontSize:"26sp",fontWeight:"bold"},color:r}),i=Ti.UI.createButton({title:"Log out",color:a,backgroundColor:r,left:"2%",top:"20%",bottom:"20%",borderWidth:0,borderRadius:10}),o=Ti.UI.createButton({title:"Save",color:a,backgroundColor:r,right:"2%",top:"20%",bottom:"20%",borderWidth:0,borderRadius:10});o.addEventListener("click",function(){var e=getHints();setPasswordHints(Ti.App.Session,Ti.App.Language,e[0],e[1],e[2],e[3],e[4],e[5],e[6])}),i.addEventListener("click",function(){closeWin(e),endSessionIpad(),Ti.App.mainWin.close()}),barView.add(i),barView.add(t),barView.add(o),e.add(barView)}function a(){i.open()}function r(){i.close()}Ti.include(Ti.Filesystem.resourcesDirectory+"/libs/webService.js"),Ti.include(Ti.Filesystem.resourcesDirectory+"/libs/commonFunctions.js"),Ti.include(Ti.Filesystem.resourcesDirectory+"/ui/tablet/passwordHints.js"),theme("red");var i=Ti.UI.createWindow({backgroundColor:Ti.App.backgroundColor,left:"15%"});swipeWindow(i),closeMenu(i);var o=Ti.UI.createView({backgroundColor:Ti.App.foregroundColor,left:"1.5%",right:"1.5%",top:"8.5%",bottom:"35%",borderRadius:10}),n=Ti.UI.createView({top:"66.5%",left:"1.5%",right:"1.5%",height:"5.5%",backgroundColor:Ti.App.foregroundColor,borderRadius:10}),s=Ti.UI.createLabel({text:"Secret Questions",font:{fontSize:30,fontWeight:"bold"}}),l=Ti.UI.createView({top:"73.5%",bottom:"1.5%",left:"1.5%",right:"1.5%",backgroundColor:Ti.App.foregroundColor,borderRadius:10});t(i,"My Details",Ti.App.foregroundColor,Ti.App.BackgroundColor);var c;c="iPhone OS"===Ti.Platform.name?Ti.UI.iPhone.ActivityIndicatorStyle.DARK:Ti.UI.ActivityIndicatorStyle.DARK;var d=Ti.UI.createActivityIndicator({color:Ti.App.foregroundColor,font:{fontFamily:"Helvetica Neue",fontSize:26,fontWeight:"bold"},message:"Loading...",style:c,height:Ti.UI.SIZE,width:Ti.UI.SIZE,visible:!1});return i.addEventListener("focus",function(){d.setVisible(!0)}),e(Ti.App.Session,"en",1),i.add(d),i.add(l),passwordHints(l),i.add(n),n.add(s),i.openWin=a,i.close=r,i}exports.open=open;