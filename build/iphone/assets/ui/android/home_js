function open(t,e,a,r,n){function i(){"pt"==Ti.App.Language?(k.setText("meu Plano"),S.setText("você é no a  myplan plano"),E.setText("boas-vindas "+n+"!"),tableData=[{hasDetail:!0,title:"Ver meu detalhes",url:"viewDetails.js",myId:e},{hasDetail:!0,title:"Alterar meu detalhes",url:"changeDetails.js"},{hasDetail:!0,title:"grupos de contatos",url:"contactGroups.js",id:e}]):"fr"==Ti.App.Language?(k.setText("Mon plan"),S.setText("vous êtes sur la  myplan plano"),E.setText("accueil "+n+"!"),tableData=[{hasDetail:!0,title:"Affichage de mes informations",url:"viewDetails.js",myId:e},{hasDetail:!0,title:"changer mes informations",url:"changeDetails.js"},{hasDetail:!0,title:"groupes de contact",url:"contactGroups.js",id:e}]):"en"==Ti.App.Language&&(k.setText("My Plan"),S.setText("You are on the myplan plan"),E.setText("Welcome "+n+"!"),tableData=[{hasDetail:!0,title:"View my details",url:"viewDetails.js",myId:e},{hasDetail:!0,title:"Change my details",url:"changeDetails.js"},{hasDetail:!0,title:"Contact groups",url:"contactGroups.js",id:e}])}function o(){0==t?u.open({transition:Ti.UI.iPhone.AnimationStyle.FLIP_FROM_RIGHT}):u.open()}function s(){u.close(),dataView.close()}Ti.include(Ti.Filesystem.resourcesDirectory+"/libs/webService.js"),Ti.include(Ti.Filesystem.resourcesDirectory+"/libs/commonFunctions.js"),Ti.include(Ti.Filesystem.resourcesDirectory+"/ui/tablet/ApplicationWindow.js"),Ti.include(Ti.Filesystem.resourcesDirectory+"/ui/tablet/usageView.js"),Ti.App.backgroundColor,Ti.App.foregroundColor,Ti.API.info("Free SMS: "+Ti.App.freeSMS),theme("white"),Ti.API.info("Your session ID is: "+Ti.App.Session),Ti.API.info("Your MSISDN is: "+Ti.App.msisdn);var c=Ti.Database.open("local"),l=c.execute("SELECT lang_name, lang_code FROM user_language where msisdn = ?",Ti.App.msisdn);Ti.API.info("Language: "+l.fieldByName("lang_name"));var a=l.fieldByName("lang_code"),h=c.execute("SELECT country, site_name, url FROM data where msisdn = ?",Ti.App.msisdn);if(Ti.API.info("Country: "+h.fieldByName("country")),Ti.API.info("Site Name: "+h.fieldByName("site_name")),Ti.API.info("URL: "+h.fieldByName("url")),c.close(),0==t)var u=Ti.UI.createWindow({backgroundColor:"pink",left:t+"%"});else var u=Ti.UI.createWindow({backgroundColor:"pink",left:"51%"});Ti.App.Language="pt"==a?"pt":"fr"==a?"fr":"en";var d=Ti.UI.createScrollView({backgroundColor:Ti.App.backgroundColor,top:0,horizontalBounce:!1,horizontalWrap:!1}),p=Ti.UI.createView({height:"100.5%",backgroundImage:Ti.Filesystem.resourcesDirectory+"/images/common/background.png"}),f=Ti.UI.createView({height:"70%",top:"-70%",backgroundColor:"#BDDBDB"}),g=Ti.UI.createActivityIndicator({color:"white",font:{fontFamily:"Helvetica Neue",fontSize:26,fontWeight:"bold"},message:"Updating...",style:Ti.UI.iPhone.ActivityIndicatorStyle.DARK,bottom:10});g.show();var m=Ti.UI.createView({backgrondColor:"transparent",height:"15%",left:"3%",right:"3%",top:"3%"}),v=Ti.UI.createView({backgroundColor:"white",opacity:.4}),y=Ti.UI.createView({top:"21%",backgroundColor:"transparent",height:"24.5%",left:"3%",right:"3%"}),b=Ti.UI.createView({backgroundColor:"white",opacity:.4}),_=Ti.UI.createView({bottom:"23.5%",backgroundColor:"transparent",height:"28.5%",left:"3%",right:"3%"}),T=Ti.UI.createView({backgroundColor:"white",opacity:.4}),R=Ti.UI.createView({backgroundColor:"transparent",height:"18%",left:"3%",right:"3%",bottom:"3%"}),x=Ti.UI.createView({backgroundColor:"white",opacity:.4}),w=Ti.UI.createImageView({image:"/images/flags/enFlag.png",left:"15%",height:"40%",width:"18%"}),C=Ti.UI.createImageView({image:"/images/flags/portFlag.png",right:"15%",height:"40%",width:"18%"}),G=Ti.UI.createImageView({image:"/images/flags/frFlag.png",height:"40%",width:"18%"}),E=Ti.UI.createLabel({color:"#000",top:"25%",textAlign:"center",height:"auto",text:"Welcome "+n+"!",opacity:1}),k=Ti.UI.createLabel({font:{fontSize:"18sp",fontWeight:"bold"},text:"My Plan: ",height:"auto",width:"auto",top:"18%",left:"4.5%",color:Ti.App.foregroundColor}),S=Ti.UI.createLabel({font:{fontSize:"14sp"},text:"You are on the myPlan plan",height:"auto",width:"auto",top:"50%",left:"4.5%",color:"black"}),I=Ti.UI.createButton({title:"Log out",style:Ti.UI.iPhone.SystemButtonStyle.BORDERED});return i(),I.addEventListener("click",function(){endSession()}),w.addEventListener("click",function(){alert("English"),Ti.App.Language="en",setLanguage(Ti.App.Session,Ti.App.Language,1),i();var t=Ti.Database.open("local");t.execute("DELETE FROM user_language WHERE msisdn =?",Ti.App.msisdn),t.execute("INSERT INTO user_language (msisdn, lang_code, lang_name) VALUES(?,?,?)",Ti.App.msisdn,"en","English"),t.close()}),C.addEventListener("click",function(){alert("Portuguese"),Ti.App.Language="pt",setLanguage(Ti.App.Session,Ti.App.Language,1),i();var t=Ti.Database.open("local");t.execute("DELETE FROM user_language WHERE msisdn =?",Ti.App.msisdn),t.execute("INSERT INTO user_language (msisdn, lang_code, lang_name) VALUES(?,?,?)",Ti.App.msisdn,"pt","Portuguese"),t.close()}),G.addEventListener("click",function(){alert("French"),Ti.App.Language="fr",setLanguage(Ti.App.Session,Ti.App.Language,1),i();var t=Ti.Database.open("local");t.execute("DELETE FROM user_language WHERE msisdn =?",Ti.App.msisdn),t.execute("INSERT INTO user_language (msisdn, lang_code, lang_name) VALUES(?,?,?)",Ti.App.msisdn,"fr","French"),t.close()}),p.add(m),p.add(y),p.add(_),p.add(R),m.add(v),y.add(b),_.add(T),R.add(x),closeMenu(u),phoneSwipeWindow(u),updateSwipe(d),m.add(E),y.add(S),y.add(k),d.add(p),R.add(w),R.add(C),R.add(G),u.setLeftNavButton(I),u.add(d),d.add(f),f.add(g),u.openWin=o,u.close=s,u}exports.open=open;