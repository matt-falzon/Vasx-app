function open(e,t,a,r,i){function o(){"pt"==Ti.App.Language?(E.setText("meu Plano"),k.setText("você é no a  myplan plano"),_.setText("boas-vindas "+i+"!"),tableData=[{hasDetail:!0,title:"Ver meu detalhes",url:"viewDetails.js",myId:t},{hasDetail:!0,title:"Alterar meu detalhes",url:"changeDetails.js"},{hasDetail:!0,title:"grupos de contatos",url:"contactGroups.js",id:t}]):"fr"==Ti.App.Language?(E.setText("Mon plan"),k.setText("vous êtes sur la  myplan plano"),_.setText("accueil "+i+"!"),tableData=[{hasDetail:!0,title:"Affichage de mes informations",url:"viewDetails.js",myId:t},{hasDetail:!0,title:"changer mes informations",url:"changeDetails.js"},{hasDetail:!0,title:"groupes de contact",url:"contactGroups.js",id:t}]):"en"==Ti.App.Language&&(E.setText("My Plan"),k.setText("You are on the myplan plan"),_.setText("Welcome "+i+"!"),tableData=[{hasDetail:!0,title:"View my details",url:"viewDetails.js",myId:t},{hasDetail:!0,title:"Change my details",url:"changeDetails.js"},{hasDetail:!0,title:"Contact groups",url:"contactGroups.js",id:t}])}function n(){0==e?u.open({transition:Ti.UI.iPhone.AnimationStyle.FLIP_FROM_RIGHT}):u.open()}function s(){u.close(),dataView.close()}Ti.include(Ti.Filesystem.resourcesDirectory+"/libs/webService.js"),Ti.include(Ti.Filesystem.resourcesDirectory+"/libs/commonFunctions.js"),Ti.include(Ti.Filesystem.resourcesDirectory+"/ui/tablet/ApplicationWindow.js"),Ti.include(Ti.Filesystem.resourcesDirectory+"/ui/tablet/usageView.js"),Ti.App.backgroundColor,Ti.App.foregroundColor,Ti.API.info("Free SMS: "+Ti.App.freeSMS),theme("white"),Ti.API.info("Your session ID is: "+Ti.App.Session),Ti.API.info("Your MSISDN is: "+Ti.App.msisdn);var l=Ti.Database.open("local"),c=l.execute("SELECT lang_name, lang_code FROM user_language where msisdn = ?",Ti.App.msisdn);Ti.API.info("Language: "+c.fieldByName("lang_name"));var a=c.fieldByName("lang_code"),d=l.execute("SELECT country, site_name, url FROM data where msisdn = ?",Ti.App.msisdn);if(Ti.API.info("Country: "+d.fieldByName("country")),Ti.API.info("Site Name: "+d.fieldByName("site_name")),Ti.API.info("URL: "+d.fieldByName("url")),l.close(),0==e)var u=Ti.UI.createWindow({backgroundColor:"pink",left:e+"%"});else var u=Ti.UI.createWindow({backgroundColor:"pink",left:"51%"});Ti.App.Language="pt"==a?"pt":"fr"==a?"fr":"en";var h=Ti.UI.createScrollView({backgroundColor:Ti.App.backgroundColor,top:0,horizontalBounce:!1,horizontalWrap:!1}),p=Ti.UI.createView({height:"100.5%",backgroundImage:Ti.Filesystem.resourcesDirectory+"/images/common/background.png"}),g=Ti.UI.createView({height:"70%",top:"-70%",backgroundColor:"#BDDBDB"}),m=Ti.UI.createActivityIndicator({color:"white",font:{fontFamily:"Helvetica Neue",fontSize:26,fontWeight:"bold"},message:"Updating...",style:Ti.UI.iPhone.ActivityIndicatorStyle.DARK,bottom:10});m.show();var f=Ti.UI.createView({backgrondColor:"transparent",height:"15%",left:"3%",right:"3%",top:"3%"}),T=Ti.UI.createView({backgroundColor:"white",opacity:.4}),v=Ti.UI.createView({top:"21%",backgroundColor:"transparent",height:"24.5%",left:"3%",right:"3%"}),b=Ti.UI.createView({backgroundColor:"white",opacity:.4}),y=Ti.UI.createView({bottom:"23.5%",backgroundColor:"transparent",height:"28.5%",left:"3%",right:"3%"}),w=Ti.UI.createView({backgroundColor:"white",opacity:.4}),x=Ti.UI.createView({backgroundColor:"transparent",height:"18%",left:"3%",right:"3%",bottom:"3%"}),C=Ti.UI.createView({backgroundColor:"white",opacity:.4}),I=Ti.UI.createImageView({image:"/images/flags/enFlag.png",left:"15%",height:"40%",width:"18%"}),A=Ti.UI.createImageView({image:"/images/flags/portFlag.png",right:"15%",height:"40%",width:"18%"}),R=Ti.UI.createImageView({image:"/images/flags/frFlag.png",height:"40%",width:"18%"}),_=Ti.UI.createLabel({color:"#000",top:"25%",textAlign:"center",height:"auto",text:"Welcome "+i+"!",opacity:1}),E=Ti.UI.createLabel({font:{fontSize:"18sp",fontWeight:"bold"},text:"My Plan: ",height:"auto",width:"auto",top:"18%",left:"4.5%",color:Ti.App.foregroundColor}),k=Ti.UI.createLabel({font:{fontSize:"14sp"},text:"You are on the myPlan plan",height:"auto",width:"auto",top:"50%",left:"4.5%",color:"black"}),S=Ti.UI.createButton({title:"Log out",style:Ti.UI.iPhone.SystemButtonStyle.BORDERED});return o(),S.addEventListener("click",function(){endSession()}),I.addEventListener("click",function(){alert("English"),Ti.App.Language="en",setLanguage(Ti.App.Session,Ti.App.Language,1),o();var e=Ti.Database.open("local");e.execute("DELETE FROM user_language WHERE msisdn =?",Ti.App.msisdn),e.execute("INSERT INTO user_language (msisdn, lang_code, lang_name) VALUES(?,?,?)",Ti.App.msisdn,"en","English"),e.close()}),A.addEventListener("click",function(){alert("Portuguese"),Ti.App.Language="pt",setLanguage(Ti.App.Session,Ti.App.Language,1),o();var e=Ti.Database.open("local");e.execute("DELETE FROM user_language WHERE msisdn =?",Ti.App.msisdn),e.execute("INSERT INTO user_language (msisdn, lang_code, lang_name) VALUES(?,?,?)",Ti.App.msisdn,"pt","Portuguese"),e.close()}),R.addEventListener("click",function(){alert("French"),Ti.App.Language="fr",setLanguage(Ti.App.Session,Ti.App.Language,1),o();var e=Ti.Database.open("local");e.execute("DELETE FROM user_language WHERE msisdn =?",Ti.App.msisdn),e.execute("INSERT INTO user_language (msisdn, lang_code, lang_name) VALUES(?,?,?)",Ti.App.msisdn,"fr","French"),e.close()}),p.add(f),p.add(v),p.add(y),p.add(x),f.add(T),v.add(b),y.add(w),x.add(C),closeMenu(u),phoneSwipeWindow(u),updateSwipe(h),f.add(_),v.add(k),v.add(E),h.add(p),x.add(I),x.add(A),x.add(R),u.setLeftNavButton(S),u.add(h),h.add(g),g.add(m),u.openWin=n,u.close=s,u}exports.open=open;